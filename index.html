<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Architectures 2026: Technical Analysis v14</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Marked -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* slate-900 */
            color: #e2e8f0; /* slate-200 */
        }
        
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .active-tab {
            background-color: #3b82f6;
            color: white;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.5);
        }
        
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .chat-message { animation: slideIn 0.3s ease-out; }

        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="h-screen overflow-hidden flex flex-col">

    <div id="root" class="h-full w-full"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Custom Icons ---
        const Icon = ({ path, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );
        
        const paths = {
            speaker: <><rect x="4" y="2" width="16" height="20" rx="2" ry="2"/><circle cx="12" cy="14" r="4"/><line x1="12" x2="12.01" y1="6" y2="6"/></>,
            radio: <><circle cx="12" cy="12" r="2"/><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"/></>,
            home: <><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></>,
            cpu: <><rect x="4" y="4" width="16" height="16" rx="2"/><rect x="9" y="9" width="6" height="6"/><path d="M9 1v3"/><path d="M15 1v3"/><path d="M9 20v3"/><path d="M15 20v3"/><path d="M20 9h3"/><path d="M20 14h3"/><path d="M1 9h3"/><path d="M1 14h3"/></>,
            mapPin: <><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></>,
            menu: <><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></>,
            x: <><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>,
            bot: <><rect width="18" height="10" x="3" y="11" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" x2="8" y1="16" y2="16"/><line x1="16" x2="16" y1="16" y2="16"/></>,
            send: <><line x1="22" x2="11" y1="2" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></>,
            alert: <><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></>
        };

        // --- Unified Data (Single Source of Truth) ---
        
        const combinedSpeakerData = [
            { 
                id: 'echo-gen4', 
                name: 'Amazon Echo (Gen 4)', 
                category: 'Home Wi-Fi', 
                specs: '3.0" Woofer + 2x 0.8" Tweeters', 
                signature: 'Warm / Bass-Forward',
                sweetSpot: 'Omnidirectional (360°)',
                standalone: { desc: 'Good bass extension (50Hz). Mids can be slightly recessed due to woofer orientation.', score: 7.5 }, 
                stereo: { desc: 'Excellent separation. The dual 3" woofers create room-filling pressure. Rivals basic soundbars.', score: 9.2 } 
            },
            { 
                id: 'echo-dot5', 
                name: 'Echo Dot (Gen 5)', 
                category: 'Home Wi-Fi', 
                specs: '1.73" Full-Range Driver', 
                signature: 'Vocal-Centric',
                sweetSpot: 'Forward Projection (180°)',
                standalone: { desc: 'Optimized for voice/podcasts. Bass is DSP-boosted harmonics, not true air movement.', score: 6.0 }, 
                stereo: { desc: 'Widens the stage but exposes the lack of physical depth. Good for background jazz, weak for rock.', score: 7.0 } 
            },
            { 
                id: 'echo-dot-max', 
                name: 'Echo Dot Max', 
                category: 'Home Wi-Fi', 
                specs: '2.5" Woofer + 0.8" Tweeter', 
                signature: 'Balanced / Detailed',
                sweetSpot: 'Forward Projection (160°)',
                standalone: { desc: 'True 2-way system. Dedicated tweeter adds air and sparkle missing from standard Dot.', score: 8.5 }, 
                stereo: { desc: 'Audiophile value king. Fast transients and clear imaging in a compact form.', score: 9.5 } 
            },
            { 
                id: 'citation-200', 
                name: 'HK Citation 200', 
                category: 'Portable Wi-Fi/BT', 
                specs: '1" Tweeter + 5" Woofer (120mm)', 
                signature: 'Sophisticated / Full-Range',
                sweetSpot: 'Direct Frontal',
                standalone: { desc: 'Physics Winner. 5" woofer moves real air. Deep, resonant low-end down to 40Hz.', score: 9.0 }, 
                stereo: { desc: 'Rivals $1000 bookshelf systems. Massive headroom and zero compression at high volumes.', score: 9.8 } 
            },
            { 
                id: 'flex-gen2', 
                name: 'Bose SoundLink Flex 2', 
                category: 'Portable BT', 
                specs: 'Transducer + Dual Passive Radiators', 
                signature: 'Rich / DSP-Managed',
                sweetSpot: 'Adaptive (PositionIQ)',
                standalone: { desc: 'Sounds larger than its size. Warm signature typical of Bose.', score: 8.0 }, 
                stereo: { desc: 'Superior fidelity to UE. AptX keeps details sharp. Great separation for a portable.', score: 8.2 } 
            },
            { 
                id: 'wonderboom-3', 
                name: 'UE Wonderboom 3', 
                category: 'Portable BT', 
                specs: '2x 40mm Active + 2x Passive', 
                signature: 'Bright / Loud',
                sweetSpot: 'Omnidirectional (360°)',
                standalone: { desc: 'Loud, rugged, but low fidelity. Recessed mids and rolling off sub-bass.', score: 6.5 }, 
                stereo: { desc: 'Wall of sound. Vague imaging due to 360 dispersion. Better for parties than critical listening.', score: 7.2 } 
            }
        ];

        const portableStereoData = [
            { 
                name: 'HK Citation 200 (Pair)', 
                backyardScore: 9.6, 
                desc: 'The only true "High-Fi" outdoor option here. Active woofer maintains bass pressure in open air.',
                pairing: 'Wi-Fi / Google Home App',
                strengths: ['Active 5" Woofer (Real Bass)', 'Wi-Fi Range (No Phone Tether)', 'Uncompressed Audio'],
                weaknesses: ['Heavy (6.3lbs each)', 'IPX4 (Splashproof Only)', 'Short Battery in Stereo (~6hr)'],
                bestFor: 'Critical Listening / Upscale Events' 
            },
            { 
                name: 'Bose SoundLink Flex 2 (Pair)', 
                backyardScore: 8.0, 
                desc: 'Significant step up from Wonderboom. Midrange clarity remains superior, though bass thins out outdoors.',
                pairing: 'Bose App / Button Shortcut',
                strengths: ['PositionIQ (Orientation Aware)', 'Clear Vocals', 'Rugged IP67'],
                weaknesses: ['Passive Bass Loss Outdoors', 'Bluetooth Range Limits (15ft)', 'Master-Slave Battery Drain'],
                bestFor: 'Dining Table / Patio' 
            },
            { 
                name: 'UE Wonderboom 3 (Pair)', 
                backyardScore: 7.2, 
                desc: 'Gets louder than the Bose, but at the cost of quality. "Outdoor Boost" cuts bass to scream highs.',
                pairing: 'Physical Button (Double Up)',
                strengths: ['Outdoor Boost (Cuts Wind)', 'Indestructible + Floats', '360° Projection'],
                weaknesses: ['High Distortion >80% Vol', 'Zero Sub-Bass', 'Vague Imaging'],
                bestFor: 'Pool / Beach / Rough Use' 
            }
        ];

        const kitchenAnalysis = [
            {
                model: 'Echo Dot (Gen 5)',
                footprint: 'Minimal (3.9" Sphere)',
                single: { 
                    music_rating: 6.5, music_desc: 'Serviceable. Comparable to built-in, maybe slightly louder.',
                    tv_rating: 5.0, tv_desc: 'Downgrade. Connects via Bluetooth. Single point source is less immersive than the Show 21 stereo bar.'
                },
                pair: { 
                    music_rating: 7.5, music_desc: 'Upgrade. Fills the room better than the Show 21.',
                    tv_rating: 4.0, tv_desc: 'Downgrade. Mirrored Mono (Group) causes phase cancellation. Dialogue clarity suffers. High latency.'
                }
            },
            {
                model: 'Echo (Gen 4)',
                footprint: 'Large (5.7" Sphere)',
                single: { 
                    music_rating: 8.5, music_desc: 'Upgrade. Real bass response (50Hz) that the Show 21 cannot physically produce.',
                    tv_rating: 7.0, tv_desc: 'Upgrade (Acoustic). The 3" woofer adds cinematic weight to effects, even if it is a mono source.'
                },
                pair: { 
                    music_rating: 9.5, music_desc: 'Massive Upgrade. A wall of sound. Two 3" woofers create a rich, room-filling experience.',
                    tv_rating: 6.5, tv_desc: 'Mixed Bag. Acoustically superior (huge sound), but technically flawed for video due to Wi-Fi Group latency.'
                }
            },
            {
                model: 'Echo Dot Max',
                footprint: 'Medium (4.5" Sphere)',
                single: { 
                    music_rating: 8.0, music_desc: 'Upgrade. Dedicated tweeter resolves details better than Show 21.',
                    tv_rating: 7.5, tv_desc: 'Upgrade. Low-latency Bluetooth + dedicated tweeter = Crisp dialogue.'
                },
                pair: { 
                    music_rating: 9.0, music_desc: 'High Fidelity. Excellent music performance with fast transients.',
                    tv_rating: 6.0, tv_desc: 'Side-grade. Great sound, but "Mirrored Mono" smears the image and introduces lag.'
                }
            }
        ];

        const techSpecs = [
            { device: "Echo Show 21", type: "Hub", drivers: "2x 2\" Full Range + Passive", connectivity: "Wi-Fi 6, BT 5.2", ipRating: "None", latency: "Very Low (Internal)" },
            { device: "Echo (Gen 4)", type: "Speaker", drivers: "1x 3.0\" Woofer, 2x 0.8\" Tweeter", connectivity: "Wi-Fi 5, BT, Zigbee", ipRating: "None", latency: "Low (BT) / High (Group)" },
            { device: "Echo Dot Max", type: "Speaker", drivers: "1x 2.5\" Woofer, 1x 0.8\" Tweeter", connectivity: "Wi-Fi 5, BT", ipRating: "None", latency: "Low (BT) / High (Group)" },
            { device: "Citation 200", type: "Portable", drivers: "1x 1\" Tweeter, 1x 5\" Woofer", connectivity: "Wi-Fi, BT 4.2", ipRating: "IPX4", latency: "Medium" },
            { device: "Flex 2", type: "Portable", drivers: "1x Transducer + 2x Passive", connectivity: "BT 5.3 (AptX)", ipRating: "IP67", latency: "Low (AptX)" },
            { device: "Wonderboom 3", type: "Portable", drivers: "2x 40mm + 2x Passive", connectivity: "BT 5.0", ipRating: "IP67", latency: "Medium" }
        ];

        const habitatData = [
            { config: "Echo Gen 4 Pair", room: "Living Room / Great Room", reason: "The bass requires physical distance to 'bloom'. Placing them 8-10ft apart in a large room maximizes their potential." },
            { config: "Echo Dot Max Pair", room: "Kitchen / Dining", reason: "The 'Goldilocks' size. Fits under cabinets. The front-firing tweeter cuts through the noise of dishwashers and cooking." },
            { config: "Citation 200 Pair", room: "Patio / Sunroom", reason: "These are semi-portable powerhouses. They need a stable shelf but can fill a backyard with high-fidelity sound via Wi-Fi." },
            { config: "Flex 2 Pair", room: "Home Office / Travel", reason: "Perfect for a desk setup (near-field stereo). PositionIQ handles being tossed in a suitcase or sitting on a hotel nightstand." }
        ];

        // --- Components ---

        const NavButton = ({ id, label, icon, activeTab, setActiveTab, setMobileMenuOpen }) => (
            <button 
                onClick={() => { setActiveTab(id); setMobileMenuOpen(false); }}
                className={`flex items-center space-x-3 w-full px-4 py-3 rounded-xl transition-all duration-200 ${activeTab === id ? 'active-tab font-semibold' : 'text-slate-400 hover:bg-slate-800 hover:text-white'}`}
            >
                <span className="text-current">{icon}</span>
                <span>{label}</span>
            </button>
        );

        const SectionHeader = ({ title, subtitle }) => (
            <div className="mb-8 border-b border-slate-700 pb-4">
                <h2 className="text-3xl font-bold text-white mb-2">{title}</h2>
                <p className="text-slate-400">{subtitle}</p>
            </div>
        );

        const Card = ({ children, className = "" }) => (
            <div className={`glass-panel rounded-2xl p-6 hover:bg-slate-800/80 transition-all duration-300 ${className}`}>{children}</div>
        );

        const Badge = ({ text, color = 'blue' }) => {
            const colors = { blue: 'bg-blue-500/20 text-blue-300 border-blue-500/30', green: 'bg-emerald-500/20 text-emerald-300 border-emerald-500/30', purple: 'bg-purple-500/20 text-purple-300 border-purple-500/30', amber: 'bg-amber-500/20 text-amber-300 border-amber-500/30' };
            return <span className={`px-2 py-1 rounded text-xs border ${colors[color]} font-mono`}>{text}</span>;
        };

        const AIAssistant = () => {
            const [isOpen, setIsOpen] = useState(false);
            const [query, setQuery] = useState('');
            const [history, setHistory] = useState([{ role: 'model', content: 'Audio Architect AI v14 initialized.' }]);
            const [loading, setLoading] = useState(false);
            const chatRef = useRef(null);

            const handleSend = async () => {
                if(!query.trim()) return;
                const userMsg = query;
                setQuery('');
                setHistory(prev => [...prev, { role: 'user', content: userMsg }]);
                setLoading(true);
                setTimeout(() => {
                    setHistory(prev => [...prev, { role: 'model', content: "Processing request via Gemini 2.5 Flash... (Simulated Response: Based on current physics models, the HK Citation 200 moves 3x the air mass of the Wonderboom 3)." }]);
                    setLoading(false);
                }, 800);
            };

            useEffect(() => { if (chatRef.current) chatRef.current.scrollTop = chatRef.current.scrollHeight; }, [history, isOpen]);

            return (
                <>
                    <button onClick={() => setIsOpen(!isOpen)} className="fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-500 text-white p-4 rounded-full shadow-2xl z-50 transition-all hover:scale-110">
                        {isOpen ? <Icon path={paths.x} /> : <Icon path={paths.bot} />}
                    </button>
                    {isOpen && (
                        <div className="fixed bottom-24 right-6 w-80 md:w-96 h-[450px] glass-panel rounded-2xl flex flex-col border border-blue-500/30 z-50 shadow-2xl overflow-hidden animate-fade-in">
                            <div className="bg-slate-800 p-4 border-b border-slate-700 flex justify-between items-center">
                                <h3 className="font-bold text-white flex items-center gap-2"><Icon path={paths.bot} size={18}/> Architect AI</h3>
                            </div>
                            <div ref={chatRef} className="flex-1 overflow-y-auto p-4 space-y-4">
                                {history.map((msg, i) => (
                                    <div key={i} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'} chat-message`}>
                                        <div className={`max-w-[85%] p-3 rounded-lg text-sm ${msg.role === 'user' ? 'bg-blue-600 text-white' : 'bg-slate-700 text-slate-200'}`}>{msg.content}</div>
                                    </div>
                                ))}
                                {loading && <div className="text-xs text-slate-500 ml-4">Computing...</div>}
                            </div>
                            <div className="p-3 bg-slate-800 border-t border-slate-700 flex gap-2">
                                <input type="text" value={query} onChange={(e) => setQuery(e.target.value)} onKeyPress={(e) => e.key === 'Enter' && handleSend()} className="flex-1 bg-slate-900 border border-slate-600 rounded-lg px-3 text-sm text-white focus:outline-none" placeholder="Query data..." />
                                <button onClick={handleSend} className="bg-blue-600 text-white p-2 rounded-lg"><Icon path={paths.send} size={18}/></button>
                            </div>
                        </div>
                    )}
                </>
            );
        };

        // --- Views ---

        const SpeakerComparison = () => (
            <div className="animate-fade-in pb-20">
                <SectionHeader title="Speaker Analysis" subtitle="Standalone vs. Stereo Performance" />
                <div className="space-y-6">
                    {combinedSpeakerData.map((item) => (
                        <Card key={item.id}>
                            <div className="flex justify-between mb-2">
                                <h3 className="text-xl font-bold text-white">{item.name}</h3>
                                <Badge text={item.category} color={item.id.includes('citation') ? 'amber' : 'purple'}/>
                            </div>
                            <div className="flex text-xs text-slate-400 space-x-4 mb-4 font-mono">
                                <span><strong className="text-slate-500">Signature:</strong> {item.signature}</span>
                                <span><strong className="text-slate-500">Sweet Spot:</strong> {item.sweetSpot}</span>
                            </div>
                            <div className="grid md:grid-cols-2 gap-6">
                                <div className="bg-slate-900/50 p-4 rounded-lg">
                                    <div className="flex justify-between mb-2"><span className="text-blue-400 font-bold text-sm">Single Unit</span><span className="text-blue-200 text-sm font-bold">{item.standalone.score}/10</span></div>
                                    <p className="text-sm text-slate-400">{item.standalone.desc}</p>
                                </div>
                                <div className="bg-slate-900/50 p-4 rounded-lg border border-purple-500/20">
                                    <div className="flex justify-between mb-2"><span className="text-purple-400 font-bold text-sm">Stereo Pair</span><span className="text-purple-200 text-sm font-bold">{item.stereo.score}/10</span></div>
                                    <p className="text-sm text-slate-400">{item.stereo.desc}</p>
                                </div>
                            </div>
                        </Card>
                    ))}
                </div>
            </div>
        );

        const PortableStereo = () => (
            <div className="animate-fade-in pb-20">
                <SectionHeader title="Portable Stereo" subtitle="Backyard / Outdoor Performance" />
                <div className="grid gap-6">
                    {portableStereoData.map((item, idx) => (
                        <div key={idx} className="glass-panel p-6">
                            <div className="flex justify-between items-start mb-2">
                                <div><h3 className="text-xl font-bold text-white">{item.name}</h3><p className="text-xs text-slate-400 mt-1">Ideal for: {item.bestFor}</p></div>
                                <div className="text-center"><div className="text-xs text-slate-500 uppercase">Backyard Score</div><div className="text-3xl font-bold text-emerald-400">{item.backyardScore}</div></div>
                            </div>
                            <p className="text-sm text-slate-300 mb-2">{item.desc}</p>
                            <div className="text-xs text-blue-300 bg-blue-900/20 inline-block px-2 py-1 rounded mb-4">Pairing: {item.pairing}</div>
                            <div className="grid md:grid-cols-2 gap-4 text-sm">
                                <div><strong className="text-emerald-500 block mb-1">Strengths</strong><ul className="list-disc pl-4 text-slate-400 space-y-1">{item.strengths.map(s => <li key={s}>{s}</li>)}</ul></div>
                                <div><strong className="text-red-500 block mb-1">Weaknesses</strong><ul className="list-disc pl-4 text-slate-400 space-y-1">{item.weaknesses.map(w => <li key={w}>{w}</li>)}</ul></div>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        );

        const KitchenHub = () => (
            <div className="animate-fade-in pb-20">
                <SectionHeader title="Kitchen Hub" subtitle="Acoustic Fidelity & Utility" />
                <div className="bg-slate-800 p-6 rounded-xl border border-blue-500/30 mb-8 flex justify-between items-center">
                    <div>
                        <h3 className="text-lg font-bold text-white">Baseline: Echo Show 21 Built-in</h3>
                        <p className="text-slate-400 text-sm mt-1">Stereo separation, low latency (lip-sync), but limited physics.</p>
                    </div>
                    <div className="text-2xl font-bold text-blue-400">6.0/10</div>
                </div>
                <div className="space-y-6">
                    {kitchenAnalysis.map((dev, idx) => (
                        <div key={idx} className="glass-panel p-0 overflow-hidden">
                            <div className="bg-slate-700/50 p-3 border-b border-slate-600 flex justify-between items-center">
                                <span className="font-bold text-white">{dev.model}</span>
                                <span className="text-xs text-slate-300 font-mono">Footprint: {dev.footprint}</span>
                            </div>
                            <div className="grid md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-600">
                                <div className="p-4">
                                    <div className="flex justify-between items-center mb-2"><span className="text-sm font-bold text-emerald-400">Single (Bluetooth)</span></div>
                                    <div className="grid grid-cols-2 gap-4 text-sm mb-2">
                                        <div><span className="text-xs text-slate-500 uppercase">Music</span> <span className="font-bold text-white">{dev.single.music_rating}</span></div>
                                        <div><span className="text-xs text-slate-500 uppercase">TV</span> <span className="font-bold text-white">{dev.single.tv_rating}</span></div>
                                    </div>
                                    <p className="text-xs text-slate-300 leading-relaxed">{dev.single.music_desc} <br/><br/> {dev.single.tv_desc}</p>
                                </div>
                                <div className="p-4 bg-black/20">
                                    <div className="flex justify-between items-center mb-2"><span className="text-sm font-bold text-purple-400">Pair (Mirrored Mono)</span></div>
                                    <div className="grid grid-cols-2 gap-4 text-sm mb-2">
                                        <div><span className="text-xs text-slate-500 uppercase">Music</span> <span className="font-bold text-white">{dev.pair.music_rating}</span></div>
                                        <div><span className="text-xs text-slate-500 uppercase">TV</span> <span className="font-bold text-white">{dev.pair.tv_rating}</span></div>
                                    </div>
                                    <p className="text-xs text-slate-300 leading-relaxed">{dev.pair.music_desc} <br/><br/> {dev.pair.tv_desc}</p>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        );

        const TechSpecs = () => (
            <div className="animate-fade-in pb-20">
                <SectionHeader title="Technical Specifications" subtitle="Hardware & Protocol Matrix" />
                <div className="grid gap-8">
                    <div className="overflow-x-auto">
                        <table className="w-full text-left border-collapse text-sm">
                            <thead>
                                <tr className="text-slate-400 border-b border-slate-700">
                                    <th className="p-4">Device</th>
                                    <th className="p-4">Driver Array</th>
                                    <th className="p-4">IP Rating</th>
                                    <th className="p-4">Connectivity</th>
                                    <th className="p-4">Input Latency</th>
                                </tr>
                            </thead>
                            <tbody className="text-slate-300">
                                {techSpecs.map((row, i) => (
                                    <tr key={i} className="border-b border-slate-800 hover:bg-slate-800/50">
                                        <td className="p-4 font-bold text-white">{row.device}</td>
                                        <td className="p-4 font-mono text-xs">{row.drivers}</td>
                                        <td className="p-4 text-xs">{row.ipRating}</td>
                                        <td className="p-4 text-xs">{row.connectivity}</td>
                                        <td className="p-4 text-xs text-blue-300">{row.latency}</td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        );

        const Habitat = () => (
            <div className="animate-fade-in pb-20">
                <SectionHeader title="Habitat" subtitle="Optimal Placement Recommendations" />
                <div className="grid gap-6">
                    {habitatData.map((hab, idx) => (
                        <div key={idx} className="glass-panel p-6 flex flex-col md:flex-row items-start gap-4">
                            <div className="bg-blue-600/20 p-3 rounded-full text-blue-400 shrink-0"><Icon path={paths.mapPin} size={24}/></div>
                            <div>
                                <h3 className="text-lg font-bold text-white">{hab.config}</h3>
                                <p className="text-emerald-400 text-sm font-bold uppercase mt-1 mb-2">{hab.room}</p>
                                <p className="text-slate-300 text-sm leading-relaxed">{hab.reason}</p>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        );

        const App = () => {
            const [activeTab, setActiveTab] = useState('speakers');
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            const NavItems = [
                { id: 'speakers', label: 'Speaker Analysis', icon: <Icon path={paths.speaker}/> },
                { id: 'portable', label: 'Portable Stereo', icon: <Icon path={paths.radio}/> },
                { id: 'kitchen', label: 'Kitchen Hub', icon: <Icon path={paths.home}/> },
                { id: 'specs', label: 'Tech Specs', icon: <Icon path={paths.cpu}/> },
                { id: 'habitat', label: 'Habitat', icon: <Icon path={paths.mapPin}/> },
            ];

            const renderContent = () => {
                switch(activeTab) {
                    case 'speakers': return <SpeakerComparison />;
                    case 'portable': return <PortableStereo />;
                    case 'kitchen': return <KitchenHub />;
                    case 'specs': return <TechSpecs />;
                    case 'habitat': return <Habitat />;
                    default: return <SpeakerComparison />;
                }
            };

            return (
                <div className="flex h-screen bg-slate-900 text-slate-200 overflow-hidden">
                    <aside className="hidden md:flex flex-col w-64 bg-slate-900 border-r border-slate-800 p-4">
                        <div className="flex items-center space-x-2 px-4 mb-8 mt-2">
                            <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold">A</div>
                            <span className="text-lg font-bold text-white tracking-tight">AudioLab v14</span>
                        </div>
                        <nav className="space-y-1 flex-1">
                            {NavItems.map(item => <NavButton key={item.id} {...item} activeTab={activeTab} setActiveTab={setActiveTab} setMobileMenuOpen={setMobileMenuOpen} />)}
                        </nav>
                        <div className="px-4 text-xs text-slate-600 mt-4">Report ID: 7ed9ffe9-v14</div>
                    </aside>
                    <div className="md:hidden fixed top-0 w-full bg-slate-900/90 backdrop-blur-md border-b border-slate-800 z-50 px-4 py-3 flex justify-between items-center">
                        <span className="font-bold text-white">AudioLab 2026</span>
                        <button onClick={() => setMobileMenuOpen(!mobileMenuOpen)} className="text-white"><Icon path={mobileMenuOpen ? paths.x : paths.menu} /></button>
                    </div>
                    {mobileMenuOpen && (
                        <div className="fixed inset-0 bg-slate-900 z-40 pt-16 px-4 md:hidden">
                            <nav className="space-y-2">{NavItems.map(item => <NavButton key={item.id} {...item} activeTab={activeTab} setActiveTab={setActiveTab} setMobileMenuOpen={setMobileMenuOpen} />)}</nav>
                        </div>
                    )}
                    <main className="flex-1 overflow-y-auto p-4 md:p-8 pt-20 md:pt-8 scroll-smooth relative">
                        <div className="max-w-5xl mx-auto">{renderContent()}</div>
                        <AIAssistant />
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
